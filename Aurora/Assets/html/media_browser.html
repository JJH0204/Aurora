{% extends "admin/base_site.html" %}
{% load static %}

{% block content %}
<div class="module">
    <h2>Media Files Browser</h2>
    <div style="margin: 20px 0;">
        <div class="grid-container" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px;">
            {% for file in files %}
            <div class="file-item" style="border: 1px solid #ddd; padding: 10px; border-radius: 4px;">
                {% if file.type|lower in 'jpg,jpeg,png,gif'|split:',' %}
                    <img src="{{ file.url }}" style="width: 100%; height: 150px; object-fit: cover;">
                {% else %}
                    <div style="height: 150px; display: flex; align-items: center; justify-content: center; background: #f5f5f5;">
                        <span>{{ file.type }}</span>
                    </div>
                {% endif %}
                <div style="margin-top: 10px;">
                    <strong>{{ file.name }}</strong>
                    <div>Size: {{ file.size }}</div>
                    <div>Type: {{ file.type }}</div>
                    <a href="{{ file.url }}" target="_blank" class="button" style="margin-top: 5px;">View File</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}